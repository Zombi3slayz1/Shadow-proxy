<script src="/uv/uv.bundle.js" defer></script>
<script src="/uv/uv.config.js" defer></script>
<script src="/register-sw.js" defer></script>
<script src="/search.js" defer></script>
<script src="/error.js" defer></script>

<form class="searchform" id="searchform">
  <input id="searchbar" placeholder="Search freely">
</form>
<script>
  var searchbar=document.getElementById("searchbar");
  var searchform=document.getElementById("searchform");
  
  searchform.addEventListener("submit", async (event) => {
    event.preventDefault();
    try {
      await registerSW();
    } catch (err) {
      alert(err.toString());
      throw err;
    }
    const url = search(searchbar.value, "https://www.google.com/search?q=%s");
    window.location.href = __uv$config.prefix + __uv$config.encodeUrl(url);
  });
</script>
